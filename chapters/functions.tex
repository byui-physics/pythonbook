\chapter{Functions and Libraries}
\label{chap:Functions}

One of the most fundamental constructs for any programming language is
the function, which is nothing more than a set of instructions
packaged up and given a name.  The function can be as long and complex
or short and succinct as you wish.  You can think of a function as a
black box. You create the contents of the box, specify what
information needs to enter the box for it to be able to accomplish
it's task, and what information will exit the box.  Why a black box?
Well, one benefit of functions is that the user doesn't need to
know what's inside.  She only needs to know what information the box
needs and what information the box will give back to her.

\section{User-defined functions}
At times it will be beneficial for you to write a function that you
have designed.  You (the programmer) can create your own function like
this
\begin{Verbatim}
def myFunction(a,b):
    c = a + b
    d = 3.0 * c
    f = 5.0 * d**4
    return f
\end{Verbatim}
This function performs several simple calculations and then uses the
\code{return} statement to pass the final result back out of the
function.(what exits the black box) Every user-defined function must
begin with the keyword \code{def} followed by the function name (you
can choose it). The variables \code{a} and \code{b} are the
arguments to the function. (the things that must enter the black box)
Python does not use an \code{end} statement or anything like it to
signal the end of a function.  Instead, it looks for indentation to
determine where the function ends.

The function can be called like this
\begin{Verbatim}
r = 10
t = 15
result = myFunction(r,t)
\end{Verbatim}
In this case, when the function is called, \code{a} gets assigned
the value of $10$ and \code{b} gets assigned the value of $15$.  The
result of this calculation is stored in the variable \code{result},
which is outside the function.

\section{Imported Functions and Libraries}
Many times, the function that you need has already been coded. Somebody
else created the function and made it available to anyone
who wants it.  Groups of functions that perform similar tasks are
typically bundled together into libraries. These libaries can be
imported and the functions that they contain can be used.  Just as
with user-defined functions, it is critical that you know what
information(variables) the function expects you to give it and what
useful information the function will hand back to you.  This
information can be found in the library's documentation.  Google will
be your friend in this regard.

Providing a complete list of all available libraries and function is well beyond
the scope of this book. Instead, we'll illustrate how to import
functions and use them.  As you use Python more and more you
should get in the habit of searching out the appropriate library to
accomplish the task at hand. When faced with a task to accomplish,
your first thought should be, `` I'll bet somebody has already done that.
I'm going to try to find that library.''

discuss some important function
that you will use heavily and occasionally briefly mention 
Here are a few examples of importing and using functions to help you
get the idea.  

Let's see how to import libraries and use their functions. You've
already seen how to perform very simple mathematical calculations. ($5/6, 8^4$,
etc..)  For more complex
mathematical calculations, like $\sin(\frac{\pi}{2})$ or $e^{2.5}$,
you'll need to import these functions from a library.
\begin{Verbatim}
import math
\end{Verbatim}
This imports a library called \code{math}.  Functions inside the
math library can be used like this
\begin{Verbatim}
math.sqrt(5.2)  # Take the square root of 5.2
math.pi         # Get the value of pi
math.sin(34)    # Find the sine of 34 radians
\end{Verbatim}
Using the functions inside a libary requires that you know what
functions are available.  This information is usually available in the
library's documentation.  Google will be a great resource here.

A library can be imported and then called by a different name like
this:
\begin{Verbatim}
import math as mt
\end{Verbatim}
Here, the short name \code{mt} was chosen for this library.
The desired functions can then be called like this
\begin{Verbatim}
mt.sqrt(5.2)  # Take the square root of 5.2
mt.pi         # Get the value of pi
mt.sin(34)    # Find the sine of 34 radians
\end{Verbatim}

Sometimes you may not want to import the entire library, just a few
functions. This can be done like this
\begin{Verbatim}
from math import sqrt,sin,pi
\end{Verbatim}
and the \code{sqrt} and \code{sin} functions can then be used
without the library name before it, like this
\begin{Verbatim}
sqrt(5.5)
sin(pi)
\end{Verbatim}
If you want to import every function inside of a libary, do this
\begin{Verbatim}
from math import *
\end{Verbatim}
Now, every function contained in \code{math} is available without
needing the \code{math.} prefix in front of it. \sidenote{For larger libraries, importing all of the
  functions can take a few seconds.  A better choice is to import only
  the functions that you need}


Throughout this book you will frequently be instructed to use various
libraries.  W
\section{Native functions}
Some functions don't need to be imported to be used: they are included with the
programming language.  We call these functions native
functions.  You have already been using some
of them, like these
\begin{Verbatim}
len(mylist)  # Returns the length of a list.
float(5)     # Converts an integer to a float.
str(67.3)    # Converts a float to a string.
\end{Verbatim}
The functions: \code{len}, \code{float}, and \code{str} are all
built-in functions, and they each take a single argument.  Other
built-in function are found in the margin tables in the previous section.


Throughout this book, we will use a variety of libaries to accomplish
important tasks.  Instead of giving a complete description of each
library used and every function that it contains, we will simply
discuss the functions needed for each specific task.  The interested
reader is referred to the documentation of the various libaries for
further details.



\section{(Advanced topic) Lambda (unnamed) functions}
The user-defined function above had 4 lines in it.  Other functions
could be even longer.  Sometimes, however, the function you need to
define is quite simple (maybe even one line) and it'd be nice if you
could define it in one line.  Luckily, you can.  It's
called a lambda function and here is an example:
\begin{Verbatim}
f = lambda x: x**3  #Define the function
print f(5)   # Evaluate the function
g = lambda x,y: x + y # Function of two variables
pritn g(5,6)
\end{Verbatim}
Here we defined the function $f(x) = x^3$, a function of one variable,
and quickly evaluated it.  Your lambda functions can have as many
arguments as you'd like: just seperate the arguments with commas.  At
this point, you may be asking yourself why this is such a big deal:
Why would you ever really need to do this.  Well, there are some
python \underline{functions that take functions as their
  arguments}.\sidenote{Stop and process that for a minute.}(as opposed
to taking simple numbers or strings) An example of this is the
\code{filter} function which serves to extract elements of a list
according to some criteria.  The exact details of the criteria are
specified using a lambda function.  Here's an example:
\begin{Verbatim}
a = [1,3,4,6,9,2,3,8]
b = list( filter( lambda x: (x % 2 == 0) , a ) )
print b
\end{Verbatim}
Notice how the \code{filter} function is used.  The first argument
is the criteria function: the function that dictates which of the list
elements you want extracted. It's not an integer or a float or a
sting.  It's actually a function: something that takes an argument and
returns a result.  In this case, the filter function was being used to
extract the elements of \code{a} that were multiples of $2$ and the
lambda function serves to check each number in the list and return
either \code{True} or \code{False}.

%In the previous chapter I showed you how to perform very simple
%mathematical calculations using variables.  You were also briefly
%introduced to some simple functions that are available in the Python
%language.  However, you were probably left wondering about more complex
%mathematical calculations, like $sin(\frac{\pi}{2})$ or $e^{2.5}$.
%The native Python language does not include functions for these
%mathematical operations and they must be imported from libaries.  In
%this chapter we will discussion functions and libraries.
%
%\section{User-defined functions}
%A function is simply a set of instructions to be performed when called
%upon.  You (the user) can create your own function like this
%\begin{Verbatim}
%def myFunction(a,b):
%    c = a + b
%    d = 3.0 * c
%    f = 5.0 * d**4
%    return f
%\end{Verbatim}
%This function performs several simple calculations and then uses the
%\code{return} statement to pass the final result back out of the
%function.  Every user-defined function must begin with the keyword
%\code{def} followed by the function name (you can choose it). The
%variables \code{a} and \code{b} are the arguments to the function.
%This means that when you want to call this function, you must provide
%these numbers.  This function can be called like this
%\begin{Verbatim}
%r = 10
%t = 15
%result = myFunction(r,t)
%\end{Verbatim}
%In this case, when the function is called, \code{a} gets assigned
%the value of $10$ and \code{b} gets assigned the value of $15$.  The
%result of this calculation is stored in the variable \code{result},
%which is outside the function.  You can think of a function as a black
%box. You create the contents of the box and specify what information
%must be passed into the black box.  The user of the black box need not
%know, or fully understand, everything that the designer put inside
%it.  He only needs to know what to give the box and what the box will
%give back to him.
%
%\section{Native functions}
%Python has many native functions: functions that are included with the
%programming language.  You have already been using some of them, like these
%\begin{Verbatim}
%len(mylist)  % Returns the length of a list.
%float(5)     % Converts an integer to a float.
%str(67.3)    % Converts a float to a string.
%\end{Verbatim}
%The functions: \code{len}, \code{float}, and \code{str} are all
%built-in functions, and they each take a single argument.  Other
%built-in function are found in the margin tables in the previous chapter.
%
%\section{Imported Functions and Libraries}
%If a function isn't included in the standard Python distribution and
%you don't want to write your own function, you may be able to find the
%function that you need elsehwere.  For the vast majority of the things
%you will want to do, there will be an existing libary that has the
%function you need. Many third-party developers have
%written very useful functions and bundled them into libraries.  To
%gain access to these great tools requires that you first install
%them.\sidenote{If you are using Enthought's Canopy package, all of the
%  libraries that you need are already installed} Once they are
%installed, you can import the library of functions like this:
%\begin{Verbatim}
%import math
%\end{Verbatim}
%This imports a library called \code{math}.  You can use a function
%inside of this libary like this
%\begin{Verbatim}
%math.sqrt(5.2)  % Take the square root of 5.2
%math.pi         % Get the value of pi
%math.sin(34)    % Find the sine of 34 radians
%\end{Verbatim}
%Using the functions inside a libary requires that you know what
%functions are available.  This information is usually available in the
%library's documentation.  Google will be a great resource here.
%
%A library can be imported and then called by a different name like
%this:
%\begin{Verbatim}
%import math as mt
%\end{Verbatim}
%Here, the short name \code{mt} was chosen for this library.
%The desired functions can then be called like this
%\begin{Verbatim}
%mt.sqrt(5.2)  % Take the square root of 5.2
%mt.pi         % Get the value of pi
%mt.sin(34)    % Find the sine of 34 radians
%\end{Verbatim}
%
%Sometimes you may not want to import the entire library, just a few
%functions. This can be done like this
%\begin{Verbatim}
%from math import sqrt
%\end{Verbatim}
%and the \code{sqrt} function can then be used without the library
%name before it, like this
%\begin{Verbatim}
%sqrt(5.5)
%\end{Verbatim}
%If you want to import every function inside of a libary, do this
%\begin{Verbatim}
%from math import *
%\end{Verbatim}
%Now, every function contained in \code{math} is available without
%needing the \code{math.} prefix in front of it.
%
%Throughout this book, we will use a variety of libaries to accomplish
%important tasks.  Instead of giving a complete description of each
%library used and every function that it contains, we will simply
%discuss the functions needed for each specific task.  The interested
%reader is referred to the documentation of the various libaries for
%further details.
%
%\section{The numpy (numerical python) library}
%Previously, we learned about lists.  Recall that lists were not
%designed to do vector/matrix math.  For all of your math needs in
%python, you should use a library called Numpy\sidenote{Short for
%  numerical python} (prounounced num-pie).  Covering every function
%avaialble in the numpy library would take way too long.  For now,
%we'll just discuss some common tasks.
%
%\subsection*{Arrays}
%Arrays are numpy objects and are the main object used by this
%library.  You can create an array using numpy's array function, like
%this
%\begin{Verbatim}
%from numpy import array
%
%a = [1,5,6,7]
%b = array(a)     
%\end{Verbatim}
%The \code{array} function converts a python list to a numpy array.
%There are many other ways to create numpy arrays.  Here are a few
%examples
%\begin{Verbatim}
%from numpy import zeros, eye
%
%a = zeros(5)
%b = zeros([5,5])
%b = eye(5)       
%\end{Verbatim}
%
%\code{zeros} will create an array of zeros, with the size of the
%array specified as an argument.



